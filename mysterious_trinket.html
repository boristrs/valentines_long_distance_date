<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Livre Mystérieux</title>
    <style>
        body {
            background: url('https://github.com/boristrs/valentines_long_distance_date/blob/main/images/street_walk.jpg?raw=true') no-repeat center center fixed;
            background-size: cover;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            height: 100vh;
            font-family: 'Arial', sans-serif;
            color: white;
            text-align: center;
            transition: background 1s ease-in-out;
        }
        .hidden { display: none; }
        .fade-in { animation: fadeIn 1.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        button {
            background: gold;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            margin: 20px;
        }
        button:hover { background: orange; }
    </style>
</head>
<body id="background" onclick="handleBackgroundClick()">
    <div id="step1" class="fade-in">
        <h1>Tu marches dans la rue...</h1>
    </div>

    <div id="step2" class="hidden fade-in">
        <h1>Tu aperçois un livre mystérieux...</h1>
    </div>

    <div id="step3" class="hidden fade-in">
        <h1>Le livre est verrouillé, souhaites-tu essayer de l'ouvrir ?</h1>
        <button onclick="nextStep(4, 'https://github.com/boristrs/valentines_long_distance_date/blob/main/images/book_is_locked.jpg?raw=true')">Oui</button>
        <button onclick="nextStep(5, 'https://github.com/boristrs/valentines_long_distance_date/blob/main/images/black_bg.jpg?raw=true')">Non</button>
    </div>

    <div id="step5" class="hidden fade-in">
        <h1>Ta conscience morale et éthique te propose de le laisser là en souhaitant que le propriétaire le retrouve ici. Ta vie continue.</h1>
    </div>

    <div id="step4" class="hidden fade-in">
        <h1>Ta curiosité te pousse à tenter d'ouvrir le livre</h1>
        <p>Devine le mot de passe :</p>
        <input type="text" id="password" placeholder="Tape ici...">
        <button onclick="checkPassword()">Ouvrir</button>
        <p id="error" style="color: red; display: none;">Mauvais mot de passe...</p>
    </div>

    <div id="step6" class="hidden fade-in">
        <h1>Le livre s'ouvre et une lumière magique t'entoure !</h1>
        <button onclick="window.location.href='https://creator.nightcafe.studio'">Rejoindre l'aventure</button>
    </div>

    <script>
        let currentStep = 1;
        function nextStep(step, backgroundImage) {
            document.querySelectorAll('div').forEach(div => div.classList.add('hidden'));
            document.getElementById('step' + step).classList.remove('hidden');
            document.getElementById('background').style.backgroundImage = `url('${backgroundImage}')`;
            currentStep = step;
        }
        function handleBackgroundClick() {
            if (currentStep === 1) {
                nextStep(2, 'https://github.com/boristrs/valentines_long_distance_date/blob/main/images/see_a_book.jpg?raw=true');
            } else if (currentStep === 2) {
                nextStep(3, 'https://github.com/boristrs/valentines_long_distance_date/blob/main/images/book_is_locked_street.jpg?raw=true');
            }
        }
        function checkPassword() {
            const pass = document.getElementById('password').value.toUpperCase();
            if (pass === "CHAT") {
                nextStep(6, 'https://github.com/boristrs/valentines_long_distance_date/blob/main/images/book_is_open.jpg?raw=true');
            } else {
                document.getElementById('error').style.display = 'block';
            }
        }
    </script>
</body>
</html>
